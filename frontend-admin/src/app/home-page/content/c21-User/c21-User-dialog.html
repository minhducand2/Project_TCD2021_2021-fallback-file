<mat-card class="dialog-box-shadow">
  <div class="title-dialog text-center system-custom" role="alert">
    <h5 class="text-uppercase font-weight-bolder" i18n>INFOMATION USER</h5>
  </div>
  <mat-card-content>
    <form [formGroup]="form" class="col-md-12 col-12">
      <div class="row custom-overflow">

        <!-- IdUserStatus field -->
        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>User Status<span class="text-red">*</span></mat-label>
            <mat-select formControlName="IdUserStatus" [(ngModel)]="input.IdUserStatus">
              <mat-option *ngFor="let UserStatus of UserStatusDatas" [value]="UserStatus.id">
                {{UserStatus.Name}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['IdUserStatus'].invalid      
              && (form.controls['IdUserStatus'].dirty || form.controls['IdUserStatus'].touched)">
            <div *ngIf="form.controls['IdUserStatus'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- Fullname field -->
        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Fullname <span class="text-red">*</span></mat-label>
            <input matInput [(ngModel)]="input.Fullname" formControlName="Fullname">
            <button mat-button *ngIf="input.Fullname" matSuffix mat-icon-button aria-label="Clear"
              (click)="input.Fullname=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['Fullname'].invalid      
              && (form.controls['Fullname'].dirty || form.controls['Fullname'].touched)">
            <div *ngIf="form.controls['Fullname'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- Email field -->
        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Email <span class="text-red">*</span></mat-label>
            <input [readonly]="isDisabledEmail" (focusout)="onCheckEmail(input.Email)" matInput
              [ngStyle]="{'cursor': isDisabledEmail ? 'not-allowed' : 'null' }" [(ngModel)]="input.Email"
              formControlName="Email">
            <div *ngIf="isCheckEmail" class="alert alert-danger">
              <span><i class="fas fa-times-circle"></i> Email already exists</span>
            </div>
            <button mat-button *ngIf="input.Email" matSuffix mat-icon-button aria-label="Clear"
              (click)="input.Email=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['Email'].invalid      
              && (form.controls['Email'].dirty || form.controls['Email'].touched)">
            <div *ngIf="form.controls['Email'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- Password field -->
        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Password <span class="text-red">*</span></mat-label>
            <input matInput [(ngModel)]="input.Password" formControlName="Password">
            <button mat-button *ngIf="input.Password" matSuffix mat-icon-button aria-label="Clear"
              (click)="input.Password=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['Password'].invalid      
              && (form.controls['Password'].dirty || form.controls['Password'].touched)">
            <div *ngIf="form.controls['Password'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>



        <!-- IdRoleUser field -->
        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Role User<span class="text-red">*</span></mat-label>
            <mat-select formControlName="IdRoleUser" [(ngModel)]="input.IdRoleUser">
              <mat-option *ngFor="let RoleUser of RoleUserDatas" [value]="RoleUser.id">
                {{RoleUser.Name}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['IdRoleUser'].invalid      
              && (form.controls['IdRoleUser'].dirty || form.controls['IdRoleUser'].touched)">
            <div *ngIf="form.controls['IdRoleUser'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Phone <span class="text-red">*</span></mat-label>
            <input matInput [(ngModel)]="input.Phone" formControlName="Phone">
            <button mat-button *ngIf="input.Phone" matSuffix mat-icon-button aria-label="Clear"
              (click)="input.Phone=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['Phone'].invalid      
              && (form.controls['Phone'].dirty || form.controls['Phone'].touched)">
            <div *ngIf="form.controls['Phone'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <div class="col-md-3 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Point <span class="text-red">*</span></mat-label>
            <input matInput [(ngModel)]="input.Point" formControlName="Point">
            <button mat-button *ngIf="input.Point" matSuffix mat-icon-button aria-label="Clear"
              (click)="input.Point=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['Point'].invalid      
              && (form.controls['Point'].dirty || form.controls['Point'].touched)">
            <div *ngIf="form.controls['Point'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- IdRoleUser field -->
        <div class="col-md-3 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Sex<span class="text-red">*</span></mat-label>
            <mat-select formControlName="Sex" [(ngModel)]="input.Sex">
              <mat-option *ngFor="let item of sexs" [value]="item.value">
                {{item.viewValue}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['Sex'].invalid      
              && (form.controls['Sex'].dirty || form.controls['Sex'].touched)">
            <div *ngIf="form.controls['Sex'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>


        <!-- IdCity field -->
        <div class="col-md-3 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>IdCity<span class="text-red">*</span></mat-label>
            <mat-select (change)="getDistrictWithCity(input.IdCity)" formControlName="IdCity"
              [(ngModel)]="input.IdCity">
              <mat-option *ngFor="let City of CityDatas" [value]="City.id">
                {{City.Name}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['IdCity'].invalid      
              && (form.controls['IdCity'].dirty || form.controls['IdCity'].touched)">
            <div *ngIf="form.controls['IdCity'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- IdDistrict field -->
        <div class="col-md-3 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>IdDistrict<span class="text-red">*</span></mat-label>
            <mat-select formControlName="IdDistrict" [(ngModel)]="input.IdDistrict">
              <mat-option *ngFor="let District of DistrictDatas" [value]="District.id">
                {{District.Name}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['IdDistrict'].invalid      
              && (form.controls['IdDistrict'].dirty || form.controls['IdDistrict'].touched)">
            <div *ngIf="form.controls['IdDistrict'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width">
            <mat-label i18n>Address <span class="text-red">*</span></mat-label>
            <input matInput [(ngModel)]="input.Address" formControlName="Address">
            <button mat-button *ngIf="input.Address" matSuffix mat-icon-button aria-label="Clear"
              (click)="input.Address=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['Address'].invalid      
              && (form.controls['Address'].dirty || form.controls['Address'].touched)">
            <div *ngIf="form.controls['Address'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- CreatedAt field -->
        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width"  >
            <mat-label i18n>Created At<span class="text-red">*</span></mat-label>
            <input matInput [(ngModel)]="input.CreatedAt" formControlName="CreatedAt" [matDatepicker]="pickerCreatedAt">
            <mat-datepicker-toggle matSuffix [for]="pickerCreatedAt"></mat-datepicker-toggle>
            <mat-datepicker touchUi #pickerCreatedAt></mat-datepicker>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['CreatedAt'].invalid      
              && (form.controls['CreatedAt'].dirty || form.controls['CreatedAt'].touched)">
            <div *ngIf="form.controls['CreatedAt'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- UpdatedAt field -->
        <div class="col-md-4 col-12">
          <mat-form-field class="example-full-width"  >
            <mat-label i18n>Updated At<span class="text-red">*</span></mat-label>
            <input matInput [(ngModel)]="input.UpdatedAt" formControlName="UpdatedAt" [matDatepicker]="pickerUpdatedAt">
            <mat-datepicker-toggle matSuffix [for]="pickerUpdatedAt"></mat-datepicker-toggle>
            <mat-datepicker touchUi #pickerUpdatedAt></mat-datepicker>
          </mat-form-field>

          <div class="alert alert-danger" *ngIf="form.controls['UpdatedAt'].invalid      
              && (form.controls['UpdatedAt'].dirty || form.controls['UpdatedAt'].touched)">
            <div *ngIf="form.controls['UpdatedAt'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>

        <!-- Avatar field -->
        <div class="col-md-12 col-12">
          <mat-card class="example-full-width" style="box-shadow: none; padding-left: 0;">
            <mat-card-actions style="margin: 0; padding: 0;">
              <button i18n style="border: 1px solid red; border-radius: 3px; float: left; width: 200px;" mat-button
                color="warn" (click)="file.click()">
                <mat-icon>file_upload</mat-icon>
                Avatar
              </button>
              <span class="upload" *ngIf="progress > 0">
                {{progress}}%
              </span>
              <span class="upload" *ngIf="message">
                {{message}}
              </span>
              <input type="file" formControlName="Avatar" (change)="uploadFile(file.files)" #file style="display: none"
                multiple="multiple" accept="image/*" />
            </mat-card-actions>
          </mat-card>
          <img class="custom-preview-file" *ngIf="input.Avatar!=''" [src]="input.Avatar" alt="izi software" width="200"
            height="200">

          <div class="alert alert-danger" *ngIf="form.controls['Avatar'].invalid      
              && (form.controls['Avatar'].dirty || form.controls['Avatar'].touched)">
            <div *ngIf="form.controls['Url'].errors.required" i18n>
              Please enter this field.
            </div>
          </div>
        </div>



      </div>
    </form>
  </mat-card-content>

  <!--Modal -->
  <div class="text-center" style="margin-top: 10px;">
    <button type="button" [disabled]="!form.valid || isUpdate" cdkFocusInitial (click)="onBtnSubmitClick()"
      class="btn btn-success btn-fw mr-3 custom-button" i18n>
      <i class="fa fa-check"></i>
      Accept</button>
    <button class="btn btn-warning custom-margin-button custom-button" [mat-dialog-close]="data.animal" i18n> <i
        class="fa fa-times"></i> Close</button>
  </div>

</mat-card>